<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

   <form action="JoinService" method="post">
      <input type="text" name="id" id="inputId" placeholder="아이디를 입력해주세요">
      <!-- form 태그 안의 button의 기본 type은 summit 이므로 type="button" 으로 꼭 설정해주어야 한다 -->
      <button type="button" onclick="checkId()">아이디 중복확인</button>
      <br> <input type="text" name="pw" placeholder="비밀번호를 입력해주세요"><br>
      <input type="text" name="nick" placeholder="닉네임을 입력해주세요"><br>
      <input type="submit" value="JOIN">
   </form>

   <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
   <script>
      // 버튼 클릭시 Ajax 사용
      function checkId() {
         console.log('Test')
         
         let id = document.getElementById("inputId").value
         
         $.ajax({
            url : "IdCheck",
            data : {"inputId" : id},
            dataType : "json",
            
            success : function (res) {
             console.log(res)
             
               // res : 서블릿에서 반환 받은 데이터
               if(res == 1){
                  alert("아이디 사용 불가")
               }
               else{
                  alert("아이디 사용 가능")
               }
                       
            },
            error : function () {
               
            }
         })
         
      }
   
   </script>

</body>
</html>